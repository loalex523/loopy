(this.webpackJsonploopy=this.webpackJsonploopy||[]).push([[0],{24:function(e,t,n){},28:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=(n(24),n(9)),c=(n(28),n(3)),l=n(2),i=n(6),s=n(22),u=n.n(s),d=n(1);function p(e){var t=e.className,n=e.seconds;return Object(d.jsx)("time",{dateTime:"P".concat(Math.round(n),"S"),className:t,children:b(n)})}function b(e){var t=new Date(1e3*e),n=t.getUTCHours(),a=t.getUTCMinutes(),o=j(t.getUTCSeconds());return n?"".concat(n,":").concat(j(a),":").concat(o):"".concat(a,":").concat(o)}function j(e){return("0"+e).slice(-2)}var g=function(e){var t=e.state,n=e.setState,o=e.player,r=(e.validMedia,Object(a.useState)(!1)),c=Object(i.a)(r,2),s=c[0],u=c[1];return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{children:["Seek:",Object(d.jsx)("input",{type:"range",min:0,max:t.duration,value:t.seekTime,className:"rounded-lg overflow-hidden appearance-none bg-gray-400 h-3 w-128",onChange:function(e){e.preventDefault(),u(!0),o.current.seekTo(e.target.value,"seconds"),n((function(t){return Object(l.a)(Object(l.a)({},t),{},{seekTime:e.target.value})}))},onMouseUp:function(e){e.preventDefault(),u(!1),n((function(e){return Object(l.a)(Object(l.a)({},e),{},{current:t.seekTime})}))}}),s?Object(d.jsx)(p,{seconds:t.seekTime}):null]})})};var O=function(e){var t=e.state,n=(e.player,e.setState),o=Object(a.useState)(0),r=Object(i.a)(o,2),c=r[0],s=r[1],u=Object(a.useState)(!1),b=Object(i.a)(u,2),j=b[0],g=b[1];return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{children:["Endpoint:",Object(d.jsx)("input",{className:"rounded-lg overflow-hidden appearance-none bg-gray-400 h-3 w-128",type:"range",min:t.seekTime,max:t.duration,value:t.endPoint,onChange:function(e){e.preventDefault(),g(!0),s(e.target.value),n((function(e){return Object(l.a)(Object(l.a)({},e),{},{endPoint:c})}))},onMouseUp:function(e){e.preventDefault(),g(!1)}}),j?Object(d.jsx)(p,{seconds:t.endPoint}):null]})})};var f=function(e){var t=e.handleSubmit,n=e.handleURLChange;return Object(d.jsxs)("form",{className:"inline-flex focus:border-light-blue-500 focus:ring-1 mb-5 focus:ring-light-blue-500 focus:outline-none w-full text-sm text-black placeholder-gray-500 border border-gray-200 rounded-md py-2 pl-10",type:"text",onSubmit:function(e){return t(e)},children:[Object(d.jsx)("label",{children:Object(d.jsx)("span",{children:" Enter URL "})}),Object(d.jsx)("input",{type:"text",className:"mt-1 block w-full rounded-md bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0",placeholder:"URL",name:"s",onChange:function(e){return n(e)}})]})},m=o.a.createContext(),v=m.Provider,y=m.Consumer;n(54);function h(){return Object(d.jsx)(y,{children:function(e){return Object(d.jsxs)("div",{className:"inline-flex space-x-4",children:[Object(d.jsxs)("div",{children:["Id:",e.id]}),Object(d.jsxs)("div",{children:["Duration:",Object(d.jsx)(p,{seconds:e.duration})]}),Object(d.jsxs)("div",{children:["Current:",Object(d.jsx)(p,{seconds:e.current})]}),Object(d.jsxs)("div",{children:["Endpoint:",Object(d.jsx)(p,{seconds:e.endPoint})]}),Object(d.jsxs)("div",{children:["Seek Time:",Object(d.jsx)(p,{seconds:e.seekTime})]}),Object(d.jsxs)("div",{children:["Loops:",e.loops]})]})}})}var x=function(e){var t=e.setting,n=e.setState,o=e.setValid,r=e.player,s=Object(c.c)(),u=Object(a.useState)(!1),b=Object(i.a)(u,2),j=b[0],g=b[1];return Object(d.jsxs)("div",{className:"flex space-x-4 border-gray-400 px-8 py-8 rounded-lg object-cover bg-white",onMouseEnter:function(){return g(!0)},onMouseLeave:function(){return g(!1)},children:[Object(d.jsxs)("button",{className:" hover:text-blue-300 inline-grid rounded-lg p-4 border border-gray-300 w-4/6",onClick:function(e){e.preventDefault(),console.log(t.id),n((function(e){return Object(l.a)(Object(l.a)({},e),{},{id:t.id,url:t.url,pip:t.pip,playing:t.playing,contols:t.controls,light:t.light,loop:t.loop,volume:t.volume,duration:t.duration,playbackRate:t.playbackRate,loops:t.loops,endPoint:t.endPoint,seekTime:t.seekTime,current:t.seekTime})}),(function(){r.current.seekTo(t.seekTime,"seconds")})),o(!0)},children:[Object(d.jsx)("label",{children:t.id}),Object(d.jsxs)("label",{children:["Current | ",Object(d.jsx)(p,{seconds:t.current})]}),Object(d.jsx)("label",{className:" text-gray-400 text-xs",children:t.url})]}),j?Object(d.jsx)("button",{className:"hover:bg-gray-600 flex items-center justify-center rounded-md w-48 h-5 text-white bg-black",onClick:function(e){return function(e,t){e.preventDefault(),s({type:"settings/stateRemove",payload:{id:t}}),localStorage.removeItem(t)}(e,t.id)},children:"Delete"}):null]})};var S=Object(c.b)()((function(e){var t=e.setState,n=e.player,a=e.setValid,o=Object(c.d)((function(e){return e.settings.settings}));return Object(d.jsxs)("div",{className:"divide-y font-semibold text-center bg-white divide-gray-200 p-5 divide rounded-md shadow-md flex-row justify-between w-2/3",children:["Timeframes",o.length>0?o.map((function(e,o){return Object(d.jsx)(x,{setValid:a,setState:t,setting:e,player:n},e.id)})):Object(d.jsx)("div",{children:" You currently do not have any timeframes saved. "})]})}));var k=Object(c.b)()((function(){var e=Object(c.c)(),t=Object(c.d)((function(e){return e.settings.settings})),n=function(n,a){n.preventDefault();var o=t.reduce((function(e,t){return Math.max(t.id,e)}),-1)+1;e({type:"settings/stateAdded",payload:{id:o,url:a.url,pip:a.pip,playing:a.playing,controls:a.controls,light:a.light,loop:a.loop,volume:a.volumne,duration:a.duration,playbackRate:a.playbackRate,current:a.current,seekTime:a.seekTime,endPoint:a.endPoint,loops:a.loops}}),a.id=o;var r=JSON.stringify(a);localStorage.setItem(o,r),console.log("Saved to local storage...")};return Object(d.jsx)(y,{children:function(e){return Object(d.jsx)("div",{className:"p-5 font-sans",children:Object(d.jsx)("button",{className:"bg-white border border-gray-400 text-gray-500 text-base font-semibold px-6 py-2 rounded-lg",onClick:function(t){return n(t,e)},children:"Save State"})})}})}));var N=function(e){var t=e.state,n=e.setState,o=(e.player,e.validMedia,Object(a.useState)(!1)),r=Object(i.a)(o,2),c=r[0],s=r[1];return Object(d.jsxs)("div",{children:["Volume:",Object(d.jsx)("input",{type:"range",min:0,max:1,step:.1,value:t.volume,className:"rounded-lg overflow-hidden appearance-none bg-gray-400 h-3 w-128",onChange:function(e){e.preventDefault(),s(!0),n((function(t){return Object(l.a)(Object(l.a)({},t),{},{volume:e.target.value})}))},onMouseUp:function(e){e.preventDefault(),s(!1)}}),c?Object(d.jsxs)("level",{children:[" ",t.volume," "]}):null]})};n(55);var T=Object(c.b)()((function(){var e=Object(a.useState)({id:0,url:"",pip:!1,playing:!0,controls:!1,light:!1,loop:!1,volume:.8,duration:0,playbackRate:1,current:0,seekTime:0,endPoint:0,loops:0}),t=Object(i.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(!0),s=Object(i.a)(r,2),p=s[0],b=s[1],j=Object(c.c)(),m=Object(a.useState)(" "),y=Object(i.a)(m,2),x=y[0],T=y[1],w=Object(a.useRef)(null),P=Object(a.useCallback)((function(){Object.keys(localStorage).forEach((function(e){j({type:"settings/stateAdded",payload:{id:JSON.parse(localStorage.getItem(e)).id,url:JSON.parse(localStorage.getItem(e)).url,pip:JSON.parse(localStorage.getItem(e)).pip,playing:JSON.parse(localStorage.getItem(e)).playing,controls:JSON.parse(localStorage.getItem(e)).controls,light:JSON.parse(localStorage.getItem(e)).light,loop:JSON.parse(localStorage.getItem(e)).loop,volume:JSON.parse(localStorage.getItem(e)).volume,duration:JSON.parse(localStorage.getItem(e)).duration,playbackRate:JSON.parse(localStorage.getItem(e)).playbackRate,current:JSON.parse(localStorage.getItem(e)).current,seekTime:JSON.parse(localStorage.getItem(e)).seekTime,endPoint:JSON.parse(localStorage.getItem(e)).endPoint,loops:JSON.parse(localStorage.getItem(e)).loops}})}))}),[j]);return Object(a.useEffect)((function(){P()}),[P]),Object(a.useEffect)((function(){n.current>=n.endPoint&&0!==n.seekTime&&0!==n.endPoint&&!0===n.playing&&(w.current.seekTo(n.seekTime,"seconds"),o((function(e){return Object(l.a)(Object(l.a)({},e),{},{loops:n.loops+1})})))}),[n.current]),Object(d.jsx)("div",{className:"p-8 flex flex-col text-center items-center w-4/5 ",children:Object(d.jsxs)(v,{value:n,children:[Object(d.jsx)("div",{className:"rounded-md border-white p-5 bg-gray-400 h-96 w-5/6 mb-5",children:p?Object(d.jsx)(u.a,{width:"100%",height:"100%",volume:n.volume,useref:w,onDuration:function(e){o((function(t){return Object(l.a)(Object(l.a)({},t),{},{duration:e})}))},onProgress:function(){o((function(e){return Object(l.a)(Object(l.a)({},e),{},{current:w.current.getCurrentTime()})}))},ref:w,playing:n.playing,onSeek:function(e){return console.log("onSeek",e)},onPause:function(){o((function(e){return Object(l.a)(Object(l.a)({},e),{},{playing:!1})})),console.log("Video paused..."),console.log(n.playing)},onPlay:function(){o((function(e){return Object(l.a)(Object(l.a)({},e),{},{playing:!0})})),console.log("Video playing..."),console.log(n.playing)},url:n.url,onError:function(e){e.preventDefault(),b(!1),console.log("onError",e)}}):Object(d.jsx)("div",{className:" text-red-400",children:" Invalid media. Please enter a valid URL. "})}),Object(d.jsx)(f,{handleSubmit:function(e){e.preventDefault(),0===x.trim().length?(b(!1),console.log("Invalid Media")):(b(!0),o((function(e){return Object(l.a)(Object(l.a)({},e),{},{url:x})})),console.log("Valid Media"))},handleURLChange:function(e){e.preventDefault(),T(e.target.value)}}),Object(d.jsx)("div",{}),Object(d.jsx)(h,{}),p?Object(d.jsxs)("div",{children:[Object(d.jsx)(O,{state:n,setState:o,player:w}),Object(d.jsx)(g,{state:n,setState:o,player:w,validMedia:p}),Object(d.jsx)(N,{state:n,setState:o,player:w,validMedia:p}),Object(d.jsx)(k,{})]}):null,Object(d.jsx)(S,{setValid:b,setState:o,player:w})]})})}));var w=function(){return Object(d.jsx)("div",{className:"m-4 text-4xl text-black",children:"Loopy"})};var P=Object(c.b)()((function(){return Object(d.jsxs)("div",{className:"font-mono flex flex-col text-center items-center",children:[Object(d.jsx)(w,{}),Object(d.jsx)(T,{})]})}));var C=function(){return Object(d.jsx)("div",{children:Object(d.jsx)(P,{})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),o(e),r(e),c(e)}))},R=n(7),J={currentStatus:{url:"https://www.youtube.com/watch?v=Ce6so35INYU&ab_channel=JangYoon-ju-TopicJangYoon-ju-Topic",pip:!1,playing:!0,controls:!1,light:!1,loop:!1,volume:.8,duration:0,playbackRate:1,current:0,seekTime:0,endPoint:0,loops:0}};var D=n(14),M={settings:[]};var U=Object(R.b)({settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"settings/stateAdded":var n=e.settings.findIndex((function(e){return e.id===t.payload.id}));return-1===n?Object(l.a)(Object(l.a)({},e),{},{settings:[].concat(Object(D.a)(e.settings),[{id:t.payload.id,url:t.payload.url,pip:t.payload.pip,playing:t.payload.playing,controls:t.payload.controls,light:t.payload.light,loop:t.payload.loop,volume:t.payload.volumne,duration:t.payload.duration,playbackRate:t.payload.playbackRate,current:t.payload.current,seekTime:t.payload.seekTime,endPoint:t.payload.endPoint,loops:t.payload.loops}])}):e;case"settings/stateRemove":return Object(l.a)(Object(l.a)({},e),{},{settings:Object(D.a)(e.settings.filter((function(e){return e.id!==t.payload.id})))});default:return e}},currentStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"current/changeCurrent":return{currentStatus:{url:t.payload.url,pip:t.payload.pip,playing:t.payload.playing,controls:t.payload.controls,light:t.payload.light,loop:t.payload.loop,volume:t.payload.volumne,duration:t.payload.duration,playbackRate:t.payload.playbackRate,current:t.payload.current,seekTime:t.payload.seekTime,endPoint:t.payload.endPoint,loops:t.payload.loops}};default:return e}}}),E=Object(R.c)(U);Object(r.render)(Object(d.jsx)(c.a,{store:E,children:Object(d.jsx)(C,{})}),document.getElementById("root")),I()}},[[56,1,2]]]);
//# sourceMappingURL=main.e54a1fc1.chunk.js.map